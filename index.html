<!DOCTYPE html>
<html lang="de">
<head>
    <link href="main.css" rel="stylesheet" type="text/css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lerndokumentation 105 - SQL</title>
    <link rel="icon" href="favicon.ico">
</head>
<body>
    <a href="https://www.mysql.com/de/" target="_blank"><img class="titelbild" src="img/logo.png" alt="Sass"></a>
    <nav class="navbar">
        <a href="#Einführung">Einführung</a>
        <a href="#reldb">Relationale Datenbanken</a>
        <a href="#Modellieren">Modellieren</a>
        <a href="#Normalisieren">Normalisieren</a>
        <a href="#DDL">Data Definition Language</a>
        <a href="#DCL">Data Control Language</a>
        <a href="#DML">Data Manipulation Language</a>
        <a href="#DQL">Data Query Language</a>
        <a href="#Datentypen">Datentypen</a>
        <a href="#Funktionen">Funktionen / Operatoren</a>
        <a href="#JOINs">JOINs</a>
        <a href="#transactions">Transaktionen</a>
        <a href="#wichtigelinks">Wichtige Links</a>
    </nav>
    <div class="content">
    <h1 id="Einführung">Einführung</h1>
    <p>SQL ist eine Datenbanksprache zur Definition von Datenstrukturen in relationalen Datenbanken sowie zum Bearbeiten (Einfügen, Verändern, Löschen) und Abfragen von darauf basierenden Datenbeständen.
        SQL steht für Structured Query Language.
    </p>
    <p>Für unsere praktischen Anwendungen benutzen wir Elementary OS. Dies ist ein Linux-System. SQL kann auf jedem Linux-System arbeiten.</p>
    <h1 id="reldb">Relationale Datenbanken</h1>
    <p>Eine relationale Datenbank dient zur elektronischen Datenverwaltung in Computersystemen. Grundlage des Konzeptes relationaler Datenbanken ist die Relation.
        Das zugehörige Datenbankmanagementsystem ist das relationale Datenbankmanagementsystem (RDBMS).
    </p>
    <img class="sqlimg" src="img/Aufbau_Datenbanksystem.PNG" alt="Aufbau Datenbanksystem">
    <p>Eine relationale Datenbank ist eine Sammlung von Tabellen. In diesen Tabellen sind Datensätze abgespeichert. Ein Datensatz muss eindeutig identifizierbar sein.
        Dies wird mit einem oder mehreren Schlüsseln erreicht. Ein Schlüssel darf sich nie verändern.
    </p>
    <p>In einem Datensatz sind die eigentlichen Daten vorhanden. Diese Daten können dann mit dem DBMS ausgelesen und verändert werden. Ein Attribut ist einfach die Überschrift einer Spalte dieser Tabelle, wobei die Tabelle die Entität ist.</p>
    <img class="sqlimg" src="img/Aufbau_Datenbank.PNG" alt="Aufbau Datenbank">
    <p>In diesem Bild erkennen Sie die Zusammenstellung von einer wirklichen Datenbank.</p>
    <h1 id="Modellieren">Modellieren</h1>
    <p>Beim Modellieren entwickelt man ein Datenmodell einer Tabelle. Dies soll einen ersten Eindruck verschaffen und die Struktur der Datenbank festlegen.
        Sie sollten bei der Modellierung auch schon die Primary- und Foreign-Keys angeben.
    </p>
    <h2>Datenmodell</h2>
    <p>Das am häufigsten verwendete Datemodell ist das relationale Datenmodell. Dies wird in der Regel nur bei Datenbanksystemen angewendet.</p>
    <img class="sqlimg" src="img/datenbankmodellierung.jpg" alt="Datenmodell">
    <p>Modellieren wird angewandt, wenn Sie noch keine Daten für eine Datenbank haben. Bei gegebenen Daten normalisiert man.</p>
    <h1 id="Normalisieren">Normalisieren</h1>
    <p>Das Normalisieren beschreibt die Aufteilung von Attributen in mehrere Tabellen, wobei Redundanzen ausgemerzt werden.
        Diese werden miteinander verbunden. Das heisst, die Keys werden schon mal gesetzt. 
    </p>
    <p>Bei der Normalisierung helfen uns die Normalformen. Die Normalformen sind einzelne Schritte für die Normalisierung von einer Datenbank.</p>
    <p>Für die einzelnen Normalformen und die dazugehörigen Begriffe verweise ich auf die Seite:<b><a href="http://www.datenbanken-verstehen.de/datenmodellierung/normalisierung/" target="_blank">Datenbanken verstehen</a></b></p>
    <h1 id="DDL">Data Definition Language (DDL)</h1>
    <img class="sqlimg" src="img/DDL.PNG" alt="DDL-Syntax">
    <p>Die Data Definition Language ist eine Datenbanksprache, die verwendet wird, um Datenstrukturen und verwandte Elemente zu beschreiben, zu ändern oder zu entfernen.</p>
    <p>Für weitere Informationen zur Data Definition Language empfehle ich die Seite:<b><a href="https://www.techopedia.com/definition/1175/data-definition-language-ddl">Techopedia</a></b></p>
    <h1 id="DCL">Data Control Language (DCL)</h1>
    <p>Die Data Control Language wird für die Verwaltung Zugriffsrechten verwendet. Es gibt hauptsächlich drei Befehle für die DCL:</p>
    <ul>
        <li>Grant</li>
        <li>Revoke</li>
        <li>Deny</li>
    </ul>
    <p>Die Syntax hierbei sieht dann so aus:</p>
    <img class="sqlimg" src="img/DCL.PNG" alt="DCL-Syntax">
    <p>Public spricht alle Personen an, wobei Operation die Berechtigung darstellt.</p>
    <p>Folgende Privilegien können vergeben und entzogen werden: CREATE DATABASE, SELECT, INSERT, UPDATE, DELETE, EXECUTE and CREATE VIEW.</p>
    <p>Mit Grant vergibt man Rechte, mit Revoke entzieht man Rechte und mit Deny verweigert man die Zugriffsrechte.</p>
    <h1 id="DML">Data Manipulation Language (DML)</h1>
    <p>Mit der Data Manipulation Language können Sie Daten schreiben, lesen, ändern und löschen. Es ist die Datenverarbeitungssprache.</p>
    <p>Folgend sehen Sie die Syntax der DML:</p>
    <img class="sqlimg" src="img/DML.PNG" alt="DML-Syntax">
    <p>Mit <b>Insert</b> können Sie Datensätze in eine Tabelle einfügen. Mit Update überschreiben Sie vorhandene Daten.
        Delete löscht Daten aus einer Relation. Mit <i>Where</i> gibt man an, welche Daten man löschen will. Ohne das <i>Where</i> werden alle Zeilen aus einer Tabelle entfernt.
    </p>
    <h1 id="DQL">Data Query Language (DQL)</h1>
    <p>Diese Sprache befasst sich mit Abfragen. DQL besteht hauptsächlich aus <b>Select</b>-Befehlen</p>
    <p>Abfragen werden dann mit Select geschrieben, aber um Daten aus mehreren Tabellen abzufragen benutzt man JOINs. Diese werden weiter im Kapitel 'JOINs' erklärt.</p>
    <h1 id="Datentypen">Datentypen</h1>
    <p>Es gibt verschiedene Datentypen, um anzugeben, welche Daten man verwendet.</p>
    <p>Damit Sie leichter entscheiden können, welchen Datentyp ich für was nehme, gibt es hier eine Übersicht:<a href="datentypen.pdf" target="_blank"><b>Datentypen-Modell</b></a></p>
    <p>Hier eine Liste mit den verschiedenen Datentypen. Diese Angaben stimmen nur mit <b>mysql</b> überein:</p>
    <h2>Datentypen für Text</h2>
    <table>
    <tr>
        <th>Datentyp</th>
        <th>Beschreibung</th>
    </tr>
    <tr>
        <td>CHAR(grösse)</td>
        <td>Kann einen String mit fester Länge beinhalten (Buchstaben, Nummern und spezielle Zeichen)</td>
    </tr>
    <tr>
        <td>VARCHAR(grösse)</td>
        <td>Kann einen String mit variabler Länge beinhalten (Buchstaben, Nummern und spezielle Zeichen).
            <br/>Man kann bis zu 255 Zeichen angeben, wenn es mehr sind, dann wird der Datentyp zu TEXT umgewandelt.</td>
    </tr>
    <tr>
        <td>TINYTEXT</td>
        <td>Für einen String mit maximal 255 Zeichen</td>
    </tr>
    <tr>
        <td>TEXT</td>
        <td>Für einen String mit maximal 65'535 Zeichen</td>
    </tr>
    <tr>
        <td>BLOB</td>
        <td>Binary Large Objects. Für bis zu 65'535 bytes Daten</td>
    </tr>
    <tr>
        <td>MEDIUMTEXT</td>
        <td>Für einen String mit maximal 16'777'215 Zeichen</td>
    </tr>
    <tr>
        <td>MEDIUMBLOB</td>
        <td>Binary Large Objects. Für bis zu 16'777'215 bytes Daten</td>
    </tr>
    <tr>
        <td>LONGTEXT</td>
        <td>Für einen String mit maximal 4'294'967'295 Zeichen</td>
    </tr>
    <tr>
        <td>LONGBLOB</td>
        <td>Binary Large Objects. Für bis zu 4'294'967'295 bytes Daten</td>
    </tr>
    <tr>
        <td>ENUM</td>
        <td>Lässt Sie eine Liste von möglichen Werten eingeben. Man kann bis zu 65'535 Werte in einer ENUM-Liste eingeben.
           <br/>Wenn ein Wert eingegeben wird, der nicht in der Liste ist, wird ein leerer Wert eingegeben.</td>
    </tr>
    </table>
    <h2>Datentypen für Nummern</h2>
    <table>
    <tr>
        <th>Datentyp</th>
        <th>Beschreibung</th>
    </tr>
    <tr>
        <td>TINYINT(grösse)</td>
        <td>-128 bis 127. 0 bis 255 UNSIGNED.</td>
    </tr>
    <tr>
        <td>SMALLINT(grösse)</td>
        <td>-32'768 bis 32'767. 0 bis 65'535 UNSIGNED.</td>
    </tr>
    <tr>
        <td>MEDIUMINT(grösse)</td>
        <td>-8'388608 bis 8'388'607 UNSIGNED.</td>
    </tr>
    <tr>
        <td>INT(grösse)</td>
        <td>2'147'483'648 bis 2'147'583'647. 0 bis 4'294'967'295 UNSIGNED.</td>
    </tr>
    <tr>
        <td>BIGINT(grösse)</td>
        <td>-9'223'372'036'854'775'808 bis 9'223'372'036'854'775'807. 0 bis 18'446'744'073'709'551'615 UNSIGNED.</td>
    </tr>
    <tr>
        <td>FLOAT(grösse, d)</td>
        <td>Eine kleine Zahl mit Fliesskomma. Die maximale Anzahl an Ziffern rechts vom Komma wird mit d angegeben.</td>
    </tr>
    <tr>
        <td>DOUBLE(grösse, d)</td>
        <td>Eine grosse Zahl mit Fliesskomma. Die maximale Anzahl an Ziffern rechts vom Komma wird mit d angegeben.</td>
    </tr>
    <tr>
        <td>DECIMAL(grösse, d)</td>
        <td>Ein DOUBLE gelagert als String, erlaubt ein fixes Fliesskomma. Die maximale Anzahl an Ziffern rechts vom Komma wird mit d angegeben.</td>
    </table>
    <h2>Datentypen für Datumsangaben</h2>
    <table>
    <tr>
        <th>Datentyp</th>
        <th>Beschreibung</th>
    </tr>
    <tr>
        <td>DATE()</td>
        <td>Ein Datum mit dem Format: YYYY-MM-DD</td>
    </tr>
    <tr>
        <td>DATETIME()</td>
        <td>Kombination von Datum und Zeit mit dem Format: YYYY-MM-DD HH:MI:SS</td>
    </tr>
    <tr>
        <td>TIMESTAMP()</td>
        <td>Ein Zeitstempel mit dem Format: YYYY-MM-DD HH:MI:SS. Geht bis zu 2038</td>
    </tr>
    <tr>
        <td>TIME()</td>
        <td>Eine Zeit mit dem Format: HH:MI:SS</td>
    </tr>
    <tr>
        <td>YEAR()</td>
        <td>Ein Jahr im zwei-stelligen oder vier-stelligen Format</td>
    </tr>
    </table>
    <h1 id="Funktionen">Funktionen / Operatoren</h1>
    <p>Mittels SQL-Funktionen können Werte in einer Spalte berechnet werden oder sie können im Nachhinein manipuliert werden.</p>
    <p>Es gibt zwei Arten von SQL-Funktionen: <b>Aggregat- und Skalar-Funktionen.</b></p>
    <h2>Beschreibung Funktionen</h2>
    <p>Mit SQL Aggregat Funktionen, wie z.B. SUM() oder AVG(), können Tabellenspalten auf ihre Werte zusammengefasst und berechnet werden.</p>
    <p>Mit SQL Skalar Funktionen, wie z.B. LEN() oder Round(), liefern Einzelwerte auf Basis ihrer Inputvariable zurück.</p>
    <p>Für die einzelnen SQL-Funktionen verweise ich auf:<a href="http://www.datenbanken-verstehen.de/sql-funktionen/sql-funktionen-uebersicht/" target="_blank"><b>SQL Funktionen Übersicht</b></a></p>
    <h2>Beschreibung Operatoren</h2>
    <p>Operatoren dienen der Verfeinerung von Ergebnissen:</p>
    <h3>Arithmetische Operatoren</h3>
    <table>
    <tr>
        <th>Operator</th>
        <th>Beschreibung</th>
    </tr>
    <tr>
        <td class="operat">+</td>
        <td>Addieren</td>
    </tr>
    <tr>
        <td class="operat">-</td>
        <td>Subtrahieren</td>
    </tr>
    <tr>
        <td class="operat">*</td>
        <td>Multiplizieren</td>
    </tr>
    <tr>
        <td>/</td>
        <td>Dividieren</td>
    </tr>
    <tr>
        <td>%</td>
        <td>Modulo (Division mit Rest)</td>
    </tr>
    </table>
    <h3>Vergleichs-Operatoren</h3>
    <table>
    <tr>
        <th>Operator</th>
        <th>Beschreibung</th>
    </tr>
    <tr>
        <td>=</td>
        <td>Ist gleich (Gleichsetzung)</td>
    </tr>
    <tr>
        <td>&#x3E;</td>
        <td>Grösser als...</td>
    </tr>
    <tr>
        <td>&#x3C;</td>
        <td>Kleiner als...</td>
    </tr>
    <tr>
        <td>&#x3E;=</td>
        <td>Grösser als... oder gleich wie...</td>
    </tr>
    <tr>
        <td>&#x3C;=</td>
        <td>Kleiner als... oder gleich wie...</td>
    </tr>
    <tr>
        <td>&#x3C;&#x3E;</td>
        <td>Ist nicht gleich wie...</td>
    </tr>
    </table>
    <h3>Logische Operatoren</h3>
    <table>
        <tr>
            <th>Operator</th>
            <th>Beschreibung</th>
        </tr>
        <tr>
            <td>ALL</td>
            <td>WAHR, wenn alle Werte die Bedingung erfüllen</td>
        </tr>
        <tr>
            <td>AND</td>
            <td>WAHR, wenn alle Bedinungen wahr sind</td>
        </tr>
        <tr>
            <td>ANY</td>
            <td>WAHR, wenn ein Wert die Bedingung erfüllt</td>
        </tr>
        <tr>
            <td>BETWEEN</td>
            <td>WAHR, wenn die Werte im angegebenen Bereich liegen</td>
        </tr>
        <tr>
            <td>EXISTS</td>
            <td>WAHR, wenn ein oder mehrere Werte zurückgegeben werden</td>
        </tr>
        <tr>
            <td>IN</td>
            <td>WAHR, wenn alle Werte im Bereich der Bedinungen sind</td>
        </tr>
        <tr>
            <td>LIKE</td>
            <td>WAHR, wenn die Werte dem Muster entsprechen</td>
        </tr>
        <tr>
            <td>NOT</td>
            <td>Zeigt Werte an, wenn die Bedinung nicht getroffen wurde</td>
        </tr>
        <tr>
            <td>OR</td>
            <td>WAHR, wenn eine Bedinung zutrifft</td>
        </tr>
        <tr>
            <td>SOME</td>
            <td>WAHR, wenn ein Wert die Bedinung erfüllt</td>
        </tr>
    </table>
    <p>Mit den arithmetischen Operatoren lassen sich einfache Berechnungen durchführen.</p>
    <p>Die logischen und comparison Operatoren werden am meisten genutzt.</p>
    <p>Ein Beispiel:</p>
    <img class="oper" src="img/oper.PNG" alt="Operationsgebrauch">
    <p>Hierbei wird * nicht als Multiplikation genutzt, sondern als Asterisk. Dies ist ein Platzhalter für "Alles"</p>
    <h1 id="JOINs">JOINs</h1>
    <p>Um JOINs anzuwenden empfehle ich die Seite:<a href="https://www.w3schools.com/sql/exercise.asp?filename=exercise_join1" target="_blank"><b>W3Schools</b></a></p>
    <p>Mit einem JOIN lassen sich mehrere Werte aus verschiedenen Tabellen abfragen. Diese werden dann in einer Tabelle angezeigt, diese wird aber nicht erzeugt und/oder abgespeichert.</p>
    <p>Folgend sehen Sie die unterschiedlichen JOIN-Typen:</p>
    <img class="joinimg" src="img/joins.png" alt="JOINs">
    <h2>Inner JOIN</h2>
    <p>Am häufigsten wird der Inner JOIN gebraucht. Dieser JOIN ist perfekt, um schnell die wichtigsten Informationen zu filtern. Er hebt sich durch minimale Ergebnismenge ab.</p>
    <p>Die <b>Syntax</b> für einen Inner JOIN ist wie folgt aufgebaut:</p>
    <p><b>SELECT Attribut FROM Tabelle1 JOIN Tabelle2 ON Tabelle1.PK = Tabelle2.FK</b></p>
    <h2>Left/Right Outer JOIN</h2>
    <p><b>SELECT Attribut FROM Tabelle1 LEFT JOIN Tabelle2 ON Tabelle1.PK = Tabelle2.FK</b></p>
    <h2>Left/Right Inner JOIN</h2>
    <p><b>SELECT Attribut FROM Tabelle1 LEFT JOIN Tabelle2 ON Tabelle1.PK = Tabelle2.FK Where Tabelle2.PK IS NULL</b></p>
    <h2>Full Outer JOIN</h2>
    <p><b>SELECT Attribut FROM Tabelle1 LEFT JOIN Tabelle2 ON ... Tabelle1.PK = Tabelle2.FK UNION SELECT Attribut FROM Tabelle1 RIGHT JOIN Tabelle2 ON ... Tabelle1.PK = Tabelle2.FK</b></p>
    <h1 id="transactions">Transaktionen</h1>
    <p>Mit Transactions kann man sich einen "Savepoint" erstellen. Wenn man einen Fehler macht und dies gern rückgängig machen möchte, sind die Transactions sehr hilfreich.</p>
    <p>Mit folgenden Befehlen kann man Transactions starten und zu einem Savepoint zurückschalten:</p>
    <p><b>START TRANSACTION TransactionName</b></p>
    <p><b>ROLLBACK TO TransactionName</b></p>
    <p>Alle Änderungen, die nach dem Starten der Transaction vollzogen wurden, sind nach dem Rollback nicht mehr vorhanden.</p>
    <p>Wenn man eine Transaction nicht mehr braucht und diese schliessen will, geht das wie folgt:</p>
    <p><b>COMMIT TransactionName</b></p>
    <h1 id="wichtigelinks">Wichtige Links</h1>
    <p>Wichtige Links:</p>
    <div class="links">
    <a href="http://sql.lernenhoch2.de/lernen/" target="_blank"><b>SQL lernen</b></a>
    <a href="http://wwwlgis.informatik.uni-kl.de/extra/game/" target="_blank"><b>Interaktives SQL Spiel</b></a>
    <a href="https://de.wikipedia.org/wiki/SQL" target="_blank"><b>Wikipedia-Eintrag</b></a>
    <a href="http://www.datenbanken-verstehen.de/" target="_blank"><b>Datenbanken verstehen</b></a>
    <a href="https://www.w3schools.com/sql/default.asp" target="_blank"><b>W3Schools</b></a>
    <a href="http://www.it-infothek.de/sql/index.html" target="_blank"><b>IT-Infothek SQL</b></a>
    <a href="http://www.ntu.edu.sg/home/ehchua/programming/sql/mysql_beginner.html" target="_blank"><b>MySQL for beginners</b></a>
    <a href="https://www.codecademy.com/learn/learn-sql" target="_blank"><b>CodeAcademy SQL-Kurs</b></a>
    <a href="mysql_90min.pdf" target="_blank"><b>SQL 90 Minuten</b></a>
    </div>
    <br/>
    <br/>
    <br/>
    <h1 id="glossar">Glossar</h1>
    <table>
        <tr>
            <th>Name/Bezeichnung</th>
            <th>Beschreibung</th>
        </tr>
        <td>SQL</td>
        <td>Datenbanksprache für Abfrage und Manipulation von Daten</td>
        </tr>
        <tr>
            <td>Relation</td>
            <td>Beziehung (Hier zwischen Tabellen)</td>
        </tr>
        <tr>
            <td>Attribut</td>
            <td>Spaltenüberschrift</td>
        </tr>
        <tr>
            <td>Entität</td>
            <td>Tabelle</td>
        </tr>
        <tr>
            <td>Datensatz</td>
            <td>Zeile einer Tabelle mit einem Satz aus Daten.</td>
        </tr>
        <tr>
            <td>Normalisieren</td>
            <td></td>
        </tr>
    </table>
    <footer>
        <h5 class="sky">Made by Manuel Rahm</h5>
    </footer>
    </div>
</body>
</html>